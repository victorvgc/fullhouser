version: v1.0
name: Android
agent:
  machine:
    type: e1-standard-2
    containers:
      - name: main
        image: 'registry.semaphoreci.com/android:29'
    os_image: ubuntu1804
blocks:
  - name: Gradle
    task:
      jobs:
        - name: Build
          commands:
            - checkout
            - sem-version java 1.8
            - chmod +x gradlew
            - ./gradlew build
      env_vars:
        - name: 'ANDROID_SDK_ROOT '
          value: /home/semaphore/fullhouser/local.properties
